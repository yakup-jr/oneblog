databaseChangeLog:
  - changeSet:
      id: create-article_sequence
      author: yakup_jr
      changes:
        - createSequence:
            sequenceName: article_sequence
            startValue: 10
            minValue: 1
            maxValue: 10000
            incrementBy: 10
  - changeSet:
      id: create-preview_sequence
      author: yakup_jr
      changes:
        - createSequence:
            sequenceName: preview_sequence
            startValue: 10
            minValue: 1
            maxValue: 10000
            incrementBy: 10
  - changeSet:
      id: create-table-label
      author: yakup_jr
      changes:
        - createTable:
            tableName: t_label
            columns:
              - column:
                  name: label_id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    nullable: false
                    unique: true
                    primaryKey: true
                    primaryKeyName: pk_label
              - column:
                  name: name
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
                    unique: true
  - changeSet:
      id: create-table-article
      author: yakup_jr
      changes:
        - createTable:
            tableName: t_article
            columns:
              - column:
                  name: article_id
                  type: BIGINT
                  constraints:
                    nullable: false
                    unique: true
                    primaryKey: true
                    primaryKeyName: pk_article
              - column:
                  name: title
                  type: VARCHAR(255)
                  constraints:
                    nullable: false
                    unique: false
              - column:
                  name: body
                  type: varchar(65535)
                  constraints:
                    nullable: false
                    unique: false
                    primaryKey: false
              - column:
                  name: created_at
                  type: DATETIME
                  constraints:
                    nullable: false
                    unique: false
  - changeSet:
      id: create-table-article_preview
      author: yakup_jr
      changes:
        - createTable:
            tableName: t_article_preview
            columns:
              - column:
                  name: article_preview_id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    nullable: false
                    unique: true
                    primaryKey: true
                    primaryKeyName: pk_article_preview
              - column:
                  name: body
                  type: varchar(65535)
                  constraints:
                    nullable: false
                    unique: false
                    primaryKey: false
  - changeSet:
      id: fk-t_article
      author: yakup_jr
      changes:
        - addColumn:
            tableName: t_article
            columns:
              - column:
                  name: article_preview_id
                  type: int
                  constraints:
                    foreignKeyName: fk_article_article_preview
                    references: t_article_preview(article_preview_id)
                    deleteCascade: true
              - column:
                  name: user_id
                  type: int
                  constraints:
                    foreignKeyName: fk_article_user
                    references: t_user(user_id)
                    deleteCascade: true
  - changeSet:
      id: create-table-t_article_label
      author: yakup_jr
      changes:
        - createTable:
            tableName: t_article_label
            columns:
              - column:
                  name: article_id
                  type: int
                  constraints:
                    unique: false
                    foreignKeyName: fk_article_label
                    references: t_article(article_id)
                    deleteCascade: true
              - column:
                  name: label_id
                  type: int
                  constraints:
                    unique: false
                    foreignKeyName: fk_label_article
                    references: t_label(label_id)
                    deleteCascade: true